const u=document.querySelector(".js__charactersCards"),f=document.querySelector(".js__favourites"),g=document.querySelector(".js__searchBar"),h=document.querySelector(".js__searchButton"),m=document.querySelector(".js__clearFavouritesButton");let n=[],r=[];const i=e=>{e.imageUrl===void 0&&(e.imageUrl="//via.placeholder.com/210x295/ffffff/555555/?text=Disney");let t="";return t+=`<li class="js__listStyles listStyles" data-id="${e._id}">`,t+=`<img src="${e.imageUrl}" class="card_img" alt= "${e.name}">`,t+=`<a href= "${e.sourceUrl}" class= "card__title" target="_blank"> ${e.name} </a>`,t+="</li>",t},d=()=>{let e="";for(const a of n)e+=i(a);u.innerHTML=e;const t=document.querySelectorAll(".js__listStyles");for(const a of t)a.addEventListener("click",_)};function c(){let e="";for(const t of r)e+=i(t);f.innerHTML=e}function S(){r=[],localStorage.setItem("favs",JSON.stringify(r)),c()}function _(e){debugger;console.log(e.currentTarget),e.currentTarget.classList.toggle("favourite");const t=e.currentTarget.dataset.id;console.log(t);const a=n.find(s=>s._id.toString()===t),o=r.findIndex(s=>s._id.toString()===t);o===-1?(r.push(a),localStorage.setItem("favs",JSON.stringify(r)),c()):(r.splice(o,1),localStorage.setItem("favs",JSON.stringify(r)),c()),e.currentTarget()}function v(e){e.preventDefault();const t=g.value;console.log(t),fetch(`//api.disneyapi.dev/character?pageSize=50&name=${t}`).then(a=>a.json()).then(a=>{n=a.data,d()})}const y=()=>{fetch("//api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{n=e.data,d()})},l=JSON.parse(localStorage.getItem("favs"));l!==null&&(r=l,c());y();h.addEventListener("click",v);m.addEventListener("click",S);logBtn.addEventListener("click",printLog);
//# sourceMappingURL=main.js.map
